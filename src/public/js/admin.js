(() => {
  fetch("http://localhost:9000/admin", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      statistic: "statistic",
    }),
  })
    .then((res) => res.json())
    .then((data) => {
      console.log(data.company_name);
      new Chart(document.getElementById("company-chart"), {
        type: "bar",
        data: {
          labels: data.company_name,
          datasets: [
            {
              label: "number of choices",
              backgroundColor: [
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
              ],
              data: data.company_count,
            },
          ],
        },
        options: {
          legend: { display: false },
          title: {
            display: true,
            text: "Rating of companies",
          },
          responsive: false,
        },
      });

      new Chart(document.getElementById("complex-chart"), {
        type: "pie",
        data: {
          labels: data.complex_name,
          datasets: [
            {
              label: "Number of choices",
              backgroundColor: [
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
              ],
              data: data.complex_count,
            },
          ],
        },
        options: {
          legend: { display: false },
          title: {
            display: true,
            text: "Rating of complexes",
          },
          responsive: false,
        },
      });

      new Chart(document.getElementById("room-chart"), {
        type: "doughnut",
        data: {
          labels: data.room_count,
          datasets: [
            {
              label: "Number of choices",
              backgroundColor: [
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
              ],
              data: data.room_number,
            },
          ],
        },
        options: {
          title: {
            display: true,
            text: "Comonly boughted room counts",
          },
        },
      });

      new Chart(document.getElementById("bank-chart"), {
        type: "horizontalBar",
        data: {
          labels: data.bank_name,
          datasets: [
            {
              label: "Population (millions)",
              backgroundColor: [
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
                "#3cba9f",
                "#8e5ea2",
                "#e8c3b9",
                "#c45850",
                "#3e95cd",
                "#ffcc00",
                "#ffff0f",
                "#E98141",
                "#5BE941",
                "#09C144",
                "#46F5F3",
                "#E346F5",
                "#4903Ee",
                "#EE6005",
                "#171716",
                "#9EFF6A",
                "#73A7FC",
                "#73FCF6",
                "#73FCBD",
                "#F1FC73",
                "#FFB2B2",
                "#FFFFFF",
                "#BD2387",
                "#FF0000",
                "#0000FF",
              ],
              data: data.bank_count,
            },
          ],
        },
        options: {
          legend: { display: false },
          title: {
            display: true,
            text: "The most lending banks",
          },
        },
      });
    });
})();
